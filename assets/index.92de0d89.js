import{j as x,r as p,a as N,R as S,b as A}from"./vendor.2d6a6b0c.js";const C=function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))h(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const f of n.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&h(f)}).observe(document,{childList:!0,subtree:!0});function m(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function h(e){if(e.ep)return;e.ep=!0;const n=m(e);fetch(e.href,n)}};C();const t=x.exports.jsx,v=x.exports.jsxs;function w({items:u}){const[c,m]=p.exports.useState(1),h=e=>{m(e)};return v("div",{className:"Tabs",children:[t("div",{className:"titles",children:u.map(({title:e},n)=>t("button",{className:"Tabs__btn"+(c===n?" current":""),onClick:()=>h(n),children:e},n))}),t("div",{className:"Tabs__content",children:u[c].data})]})}const y={keyPhrases:"https://exam-zeta.cognitiveservices.azure.com/text/analytics/v3.1/keyPhrases",sentiment:"https://exam-zeta.cognitiveservices.azure.com/text/analytics/v3.2-preview.1/sentiment",entities:"https://exam-zeta.cognitiveservices.azure.com/text/analytics/v3.2-preview.1/entities/recognition/general"},T=()=>{const[u,c]=p.exports.useState(!1),m=(o,i,r="en")=>{c(!0);const a=N.post(i,{documents:[{id:"1",language:r,text:o}]},{headers:{"Content-Type":"application/json","Ocp-Apim-Subscription-Key":"c8802af8c44444429433e65bf36e6129"}});return a.then(s=>(c(!1),s)),a},h=(o,i)=>m(o,y.keyPhrases,i),e=(o,i)=>m(o,y.sentiment,i),n=(o,i)=>m(o,y.entities,i);return{getKeyPhrases:h,getSentiment:e,getEntities:n,getAll:(o,i)=>Promise.all([h(o,i),e(o,i),n(o,i)]),isLoading:u}},j=u=>u.replace(/([A-Z])/g," $1").replace(/^./,c=>c.toUpperCase());function L(){const[u,c]=p.exports.useState(""),[m,h]=p.exports.useState([]),{getAll:e,isLoading:n}=T(),f=i=>{i.preventDefault(),!!u&&e(u).then(r=>{console.log(r);let a=r[0].data.documents[0].keyPhrases,s=r[1].data.documents[0].sentences,d=r[2].data.documents[0].entities;return a=Array.from(new Set(a)),s=[...s.filter(l=>l.sentiment==="negative"),...s.filter(l=>l.sentiment==="neutral"),...s.filter(l=>l.sentiment==="positive")],d=Array.from(new Set(d.map(l=>l.text))),{keyPhrases:a,sentiment:s,entities:d}}).then(({keyPhrases:r,sentiment:a,entities:s})=>(r.length===0?r=t("h4",{children:"Nothing found"}):r=t("ul",{children:r.sort((d,l)=>d.length-l.length).map((d,l)=>t("li",{children:d},l))}),a.length===0?a=t("h4",{children:"Nothing found"}):a=t("ul",{children:a.map(({sentiment:d,text:l},b)=>{let g="";return d==="negative"?g="red":d==="positive"&&(g="lime"),t("li",{style:{color:g},children:l},b)})}),s.length===0?s=t("h4",{children:"Nothing found"}):s=t("ul",{children:s.map((d,l)=>t("li",{children:t("a",{href:"https://www.google.com/search?q=define%3A"+d,children:d})},l))}),{keyPhrases:r,sentiment:a,entities:s})).then(r=>{const a=[];for(const s in r)a.push({title:j(s),data:r[s]});h(a)}).catch(r=>{console.log(r)})};let o=null;return n?o=t("p",{children:"loading..."}):o=m.length>0&&t(w,{items:m}),t("div",{className:"App",children:t("div",{className:"container",children:v("div",{className:"wrapper",children:[v("form",{className:"form",onSubmit:f,children:[t("textarea",{className:"form__textarea",placeholder:"Enter text in English",value:u,onChange:i=>c(i.target.value),autoCorrect:"off",autoCapitalize:"none",spellCheck:"false"}),t("button",{className:"form__btn",disabled:!u,children:"Submit"})]}),o]})})})}S.render(t(A.StrictMode,{children:t(L,{})}),document.getElementById("root"));
